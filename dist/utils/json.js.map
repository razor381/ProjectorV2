{"version":3,"sources":["../../src/utils/json.js"],"names":["json","req","res","next","body","method","disallowedMethods","is","includes","Boom","badRequest"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,IAAT,CAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;AAC3C,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAmBJ,GAAzB;AACA,QAAMK,iBAAiB,GAAG,CAAC,MAAD,EAAS,KAAT,EAAgB,OAAhB,CAA1B;;AAEA,MAAIL,GAAG,CAACM,EAAJ,CAAO,kBAAP,KAA8BD,iBAAiB,CAACE,QAAlB,CAA2BH,MAA3B,CAA9B,IAAoE,uBAASD,IAAT,CAAxE,EAAwF;AACtF,UAAMK,cAAKC,UAAL,CAAgB,YAAhB,CAAN;AACD;;AAEDP,EAAAA,IAAI;AACL","sourcesContent":["import Boom from '@hapi/boom';\nimport _isEmpty from 'lodash/isEmpty';\n\n/**\n * Handle empty JSON body requests.\n *\n * @param {Object} req\n * @param {Object} res\n * @param {Function} next\n */\nexport default function json(req, res, next) {\n  const { body, method } = req;\n  const disallowedMethods = ['POST', 'PUT', 'PATCH'];\n\n  if (req.is('application/json') && disallowedMethods.includes(method) && _isEmpty(body)) {\n    throw Boom.badRequest('Empty JSON');\n  }\n\n  next();\n}\n"],"file":"json.js"}