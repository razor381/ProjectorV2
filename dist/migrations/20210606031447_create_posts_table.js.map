{"version":3,"sources":["../../src/migrations/20210606031447_create_posts_table.js"],"names":["TABLE_NAME","exports","up","knex","schema","createTable","table","increments","unsigned","primary","text","notNull","string","float","defaultTo","integer","specificType","timestamps","references","inTable","index","onDelete","down","dropTable"],"mappings":";;AAAA,MAAMA,UAAU,GAAG,OAAnB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACAC,OAAO,CAACC,EAAR,GAAa,UAASC,IAAT,EAAe;AAC1B,SAAOA,IAAI,CAACC,MAAL,CAAYC,WAAZ,CAAwBL,UAAxB,EAAqCM,KAAD,IAAW;AACpDA,IAAAA,KAAK,CAACC,UAAN,GAAmBC,QAAnB,GAA8BC,OAA9B;AACAH,IAAAA,KAAK,CAACI,IAAN,CAAW,MAAX,EAAmBC,OAAnB;AACAL,IAAAA,KAAK,CAACM,MAAN,CAAa,SAAb,EAAwBD,OAAxB;AACAL,IAAAA,KAAK,CAACM,MAAN,CAAa,aAAb;AACAN,IAAAA,KAAK,CAACM,MAAN,CAAa,MAAb;AACAN,IAAAA,KAAK,CAACO,KAAN,CAAY,iBAAZ,EAA+B,CAA/B,EAAkC,CAAlC,EAAqCC,SAArC,CAA+C,GAA/C;AACAR,IAAAA,KAAK,CAACS,OAAN,CAAc,kBAAd,EAAkCD,SAAlC,CAA4C,CAA5C;AACAR,IAAAA,KAAK,CAACM,MAAN,CAAa,aAAb,EAA4BE,SAA5B,CAAsC,mBAAtC;AACAR,IAAAA,KAAK,CAACU,YAAN,CAAmB,QAAnB,EAA6B,YAA7B;AACAV,IAAAA,KAAK,CAACW,UAAN,CAAiB,IAAjB,EAAuB,IAAvB;AAEAX,IAAAA,KAAK,CACFS,OADH,CACW,SADX,EAEGJ,OAFH,GAGGO,UAHH,CAGc,IAHd,EAIGC,OAJH,CAIW,OAJX,EAKGC,KALH,GAMGC,QANH,CAMY,SANZ;AAOD,GAnBM,CAAP;AAoBD,CArBD;AAuBA;AACA;AACA;AACA;AACA;AACA;;;AACApB,OAAO,CAACqB,IAAR,GAAe,UAASnB,IAAT,EAAe;AAC5B,SAAOA,IAAI,CAACC,MAAL,CAAYmB,SAAZ,CAAsBvB,UAAtB,CAAP;AACD,CAFD","sourcesContent":["const TABLE_NAME = 'posts';\n\n/**\n * Create posts table.\n *\n * @param {Object} knex\n * @returns {Promise}\n */\nexports.up = function(knex) {\n  return knex.schema.createTable(TABLE_NAME, (table) => {\n    table.increments().unsigned().primary();\n    table.text('name').notNull();\n    table.string('summary').notNull();\n    table.string('description');\n    table.string('slug');\n    table.float('ratings_average', 2, 1).defaultTo(4.5);\n    table.integer('ratings_quantity').defaultTo(0);\n    table.string('image_cover').defaultTo('default_cover.jpg');\n    table.specificType('images', 'text ARRAY');\n    table.timestamps(true, true);\n\n    table\n      .integer('user_id')\n      .notNull()\n      .references('id')\n      .inTable('users')\n      .index()\n      .onDelete('CASCADE');\n  });\n};\n\n/**\n * Drop posts table.\n *\n * @param {Object} knex\n * @returns {Promise}\n */\nexports.down = function(knex) {\n  return knex.schema.dropTable(TABLE_NAME);\n};\n"],"file":"20210606031447_create_posts_table.js"}