{"version":3,"sources":["../../src/migrations/20210606031431_create_users_table.js"],"names":["TABLE_NAME","exports","up","knex","schema","createTable","table","increments","unsigned","primary","text","notNull","string","unique","defaultTo","enu","boolean","datetime","timestamps","down","dropTable"],"mappings":";;AAAA,MAAMA,UAAU,GAAG,OAAnB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACAC,OAAO,CAACC,EAAR,GAAa,UAASC,IAAT,EAAe;AAC1B,SAAOA,IAAI,CAACC,MAAL,CAAYC,WAAZ,CAAwBL,UAAxB,EAAqCM,KAAD,IAAW;AACpDA,IAAAA,KAAK,CAACC,UAAN,GAAmBC,QAAnB,GAA8BC,OAA9B;AACAH,IAAAA,KAAK,CAACI,IAAN,CAAW,MAAX,EAAmBC,OAAnB;AACAL,IAAAA,KAAK,CAACM,MAAN,CAAa,OAAb,EAAsBD,OAAtB,GAAgCE,MAAhC;AACAP,IAAAA,KAAK,CAACM,MAAN,CAAa,OAAb,EAAsBE,SAAtB,CAAgC,mBAAhC;AACAR,IAAAA,KAAK,CAACM,MAAN,CAAa,UAAb,EAAyBD,OAAzB;AACAL,IAAAA,KAAK,CAACM,MAAN,CAAa,kBAAb,EAAiCD,OAAjC;AACAL,IAAAA,KAAK,CAACS,GAAN,CAAU,MAAV,EAAkB,CAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,CAAlB,EAA+CD,SAA/C,CAAyD,MAAzD;AACAR,IAAAA,KAAK,CAACU,OAAN,CAAc,QAAd,EAAwBF,SAAxB,CAAkC,CAAlC;AACAR,IAAAA,KAAK,CAACM,MAAN,CAAa,oBAAb;AACAN,IAAAA,KAAK,CAACW,QAAN,CAAe,qBAAf;AACAX,IAAAA,KAAK,CAACM,MAAN,CAAa,wBAAb;AACAN,IAAAA,KAAK,CAACY,UAAN,CAAiB,IAAjB,EAAuB,IAAvB;AACD,GAbM,CAAP;AAcD,CAfD;AAiBA;AACA;AACA;AACA;AACA;AACA;;;AACAjB,OAAO,CAACkB,IAAR,GAAe,UAAShB,IAAT,EAAe;AAC5B,SAAOA,IAAI,CAACC,MAAL,CAAYgB,SAAZ,CAAsBpB,UAAtB,CAAP;AACD,CAFD","sourcesContent":["const TABLE_NAME = 'users';\n\n/**\n * Create users table.\n *\n * @param {Object} knex\n * @returns {Promise}\n */\nexports.up = function(knex) {\n  return knex.schema.createTable(TABLE_NAME, (table) => {\n    table.increments().unsigned().primary();\n    table.text('name').notNull();\n    table.string('email').notNull().unique();\n    table.string('photo').defaultTo('default_photo.jpg');\n    table.string('password').notNull();\n    table.string('password_confirm').notNull();\n    table.enu('role', ['user', 'admin', 'mentor']).defaultTo('user');\n    table.boolean('active').defaultTo(1);\n    table.string('passwordResetToken');\n    table.datetime('password_changed_at');\n    table.string('reset_token_expires_at');\n    table.timestamps(true, true);\n  });\n};\n\n/**\n * Drop users table.\n *\n * @param {Object} knex\n * @returns {Promise}\n */\nexports.down = function(knex) {\n  return knex.schema.dropTable(TABLE_NAME);\n};\n"],"file":"20210606031431_create_users_table.js"}